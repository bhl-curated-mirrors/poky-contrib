Hack the dynamic module loader so that we use native modules since we can't load
the target ones.

Upstream-Status: Inappropriate

RP
2013/01/13

Index: perl-5.25.1/ext/DynaLoader/DynaLoader_pm.PL
===================================================================
--- perl-5.25.1.orig/ext/DynaLoader/DynaLoader_pm.PL
+++ perl-5.25.1/ext/DynaLoader/DynaLoader_pm.PL
@@ -343,7 +343,11 @@ sub bootstrap {
     foreach (@INC) {
 	<<$^O-eq-VMS>>chop($_ = VMS::Filespec::unixpath($_));<</$^O-eq-VMS>>
 	    $dir = "$_/auto/$modpname";
-	
+        if (defined $ENV{PERL_LIB} and defined $ENV{PERLHOSTLIB}) {
+	    $dir =~ s/$ENV{PERL_LIB}/$ENV{PERLHOSTLIB}/g;
+	}
+
+
 	next unless -d $dir; # skip over uninteresting directories
 	
 	# check for common cases to avoid autoload of dl_findfile
