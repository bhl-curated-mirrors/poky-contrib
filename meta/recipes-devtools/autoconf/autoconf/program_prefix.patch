From e592dd9ab4efe592f3809e5bb4d74e18d3223102 Mon Sep 17 00:00:00 2001
From: Ross Burton <ross.burton@intel.com>
Date: Thu, 12 Mar 2020 17:28:38 +0000
Subject: [PATCH 06/10] program_prefix.patch

Upstream-Status: Pending
Signed-off-by: Ross Burton <ross.burton@arm.com>
---
 lib/autoconf/general.m4 | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

diff --git a/lib/autoconf/general.m4 b/lib/autoconf/general.m4
index fa44df9f..5a13803e 100644
--- a/lib/autoconf/general.m4
+++ b/lib/autoconf/general.m4
@@ -1919,8 +1919,9 @@ _AC_CANONICAL_SPLIT([target])
 # The aliases save the names the user supplied, while $host etc.
 # will get canonicalized.
 test -n "$target_alias" &&
-  test "$program_prefix$program_suffix$program_transform_name" = \
-    NONENONEs,x,x, &&
+  test "$target_alias" != "$host_alias" &&
+    test "$program_prefix$program_suffix$program_transform_name" = \
+      NONENONEs,x,x, &&
   program_prefix=${target_alias}-[]dnl
 ])# AC_CANONICAL_TARGET
 
-- 
2.25.1

